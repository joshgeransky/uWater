<!DOCTYPE html>
<html>
   <head>
      <meta charset="utf-8">
      <title>uWater</title>
      <link rel="stylesheet" type="text/css" href="css/foundation.css"/>
      <link href='https://fonts.googleapis.com/css?family=Oswald:400,300,700' rel='stylesheet' type='text/css'>

      <style>
          
          /** -------------------------------------- CSS for index.html ------------------------ */
          body {
              background-color: black;
              color: white;
              background: linear-gradient( rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5) ), url('images/ocean_waves.jpg');
              background-repeat: none;
              background-size: cover;
              font-family: 'Oswald';
          }
          
          #safe {
              font-size: 2em;
              text-align: center;
              color: white;
          }

          #logo {
              width: 400px;
              height: auto;
          }
          
          .title {
              text-align: center;
          }
          
          #uSearchTitle {
              clear: both;
              text-align: center;
              color: black;
          }
          
          .uWater-span {
              color: #9ce6fc;
          }
          
          #uquiz {
              text-align: center;
              line-height: 90px;
              width: 140px;
              height: 90px;
              background-color: white;
              font-size: 130%;
              font-weight: bold;
              margin-left: auto;
              margin-right: auto;     
              border-radius: 12px;
              transition: 0.3s;   
          }

          #copyright {
              text-align: center;
              bottom: 0;
              width: 100%;
              font-size: 0.8em;
          }
          
          .hlinks {
              text-decoration: none;
          }
          
          .form {
              border-radius: 12px;
              padding: 8px 20px;
              background-color: white;
          }
          
          .buttons {
              border-radius: 12px;
              padding: 8px 20px;
              background-color: white;
              transition: 0.3s;
          }
          
          .buttons:hover {
              background-color: #4286f4;
              cursor: pointer;
          }

          #uquiz:hover {
              background-color: #4286f4;
              cursor: pointer;
          }
          
          a:visited {
              color: none;
          }
          
          #visitors {
              font-size: 2em; 
		  }
          
          #tally {
              font-size: 2em;
		  }
          
          /* Country select drop down */
          .dropbtn {
                font-family: 'Oswald';
                background-color: white;
                color: black;
                padding: 16px;
                font-size: 16px;
                border: none;
                width: 200px;
                height: 80px;
                cursor: pointer;
                margin-left: auto;
                margin-right: auto;     
                border-radius: 12px;
                transition: 0.3s;
          }

          .dropbtn:hover, .dropbtn:focus {
                background-color: #4286f4;
          }

          /* Country search field */
          #input {
              border-box: box-sizing;
              background-image: url('images/searchicon.png');
              background-position: 14px 12px;
              background-repeat: no-repeat;
              font-size: 16px;
              padding: 14px 20px 12px 45px;
              border: none;
              border-bottom: 1px solid #ddd;
          }

          #input:focus {outline: 3px solid #ddd;}

          .dropdown {
              position: relative;
              display: inline-block;
          }

          /* Dropdown countries (hidden by default) */
          .dropdown-content {
              display: none;
              position: absolute;
              background-color: #f6f6f6;
              min-width: 230px;
              border: 1px solid #ddd;
              z-index: 1;
          }

          /* Countries inside the dropdown */
          .dropdown-content a {
              color: black;
              padding: 12px 16px;
              text-decoration: none;
              display: block;
          }

          .dropdown-content a:hover {background-color: #f1f1f1}

          .show {display:block;}
          
        </style>
       
        <script src="https://www.gstatic.com/firebasejs/5.9.2/firebase.js"></script>
        <script>
          // Initialize Firebase
          var config = {
            apiKey: "AIzaSyBEfupg1Yxv54gWoZClRtOIgipjw-JoG5I",
            authDomain: "uwater-a3a85.firebaseapp.com",
            databaseURL: "https://uwater-a3a85.firebaseio.com",
            projectId: "uwater-a3a85",
            storageBucket: "uwater-a3a85.appspot.com",
            messagingSenderId: "89656858094"
          };
          firebase.initializeApp(config);
        </script>

       <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
       <script src='https://cdnjs.cloudflare.com/ajax/libs/waypoints/2.0.5/waypoints.min.js'></script>
       <script src="js/index.js"></script>
    </head>
    
    <body>
        
       <header class='header' data-animate-header-container>
           <menu class='header-bar' data-animate-header>
               <a href='index.html' class='btn-search' data-toggle-class='search-active'>uSearch</a>
               <a href='#uWater' class='btn-menu' data-toggle-class='menu-active'>uWater</a>
               <a href='uQuiz/uQuiz.html' class='btn-search' data-toggle-class='search-active'>uQuiz</a>
            </menu>
        </header>
       
        <div class="content">
            <div class="title">
                <img id='logo' alt='uWater' src='images/whiteLogo.png'>
                <br>
            </div>
            <div id="safe">"Is yo<span class="uWater-span">u</span>r <span class="uWater-span">water</span> safe?"</div>
            <br>
            
            <form>
                <div class="dropdown" style="text-align: center">
                    <button onclick="dropDownFunction()" class="dropbtn" type="button">Select Country&nbsp&nbsp<img src='images/drop.png'></button>
                        <div id="theDropdown" class="dropdown-content">
                            <input type="text" placeholder="Search..." id="input" onkeyup="filterFunction()">
                            <a href="javascript:void(0);" onclick="getValue('Canada')">Canada</a>
                            <a href="javascript:void(0);" onclick="getValue('Egypt')">Egypt</a>
                            <a href="javascript:void(0);" onclick="getValue('Argentina')">Argentina</a>
                        </div>
                </div><br>
            </form> 
              
            <br><br>
          
            <p style='font-size: 16pt'>Want to test your knowledge?</p><br>
            <button id="uquiz" onclick="window.location.href = 'uQuiz/uQuiz.html'">uQuiz</button>
            <br><br><br>
            
            <p id="visitors">Number of people helped:<div id="tally"></div></p>
        
		    <br><br>
        
        <footer>
            <span>Â© 2019 Team 21</span>
        </footer>
       
        
        <script>
            /* Update tally */
            var out2 = document.getElementById("tally");
            var dbRef2 = firebase.database().ref().child("tallyPath").child("tally");
            dbRef2.on ('value', function (snap) {
                out2.innerText = snap.val();
            });
        </script>
       
       <script>
           /* Toggle between hiding and showing the drop down list */
           function dropDownFunction() {
               document.getElementById("theDropdown").classList.toggle("show");

           }           
           
           /* Search through countries in the drop down. */
           function filterFunction() {
                var input, filter, ul, li, a, i;
                input = document.getElementById("myInput");
                filter = input.value.toUpperCase();
                div = document.getElementById("theDropdown");
                a = div.getElementsByTagName("a");
                for (i = 0; i < a.length; i++) {
                    txtValue = a[i].textContent || a[i].innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1) {
                        a[i].style.display = "";
                    } else {
                        a[i].style.display = "none";
                    }
                }
           }           
           
           /* Get and send which country was picked, then move to the uFacts page. */
           function getValue(s){
                localStorage.setItem("countryInput", s);
               window.location.assign("uFacts/uFacts.html");
           }
           
        </script>

   </body>
</html>